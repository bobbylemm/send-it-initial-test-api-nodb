{"version":3,"sources":["../../dataMigrations/createalldb.js"],"names":["dotenv","config","pool","pg","Pool","development","usersTable","parcelsTable","query","then","console","log","res","catch","err"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;AACA;;AAEAA,iBAAOC,MAAP;AACA,IAAMC,OAAO,IAAIC,aAAGC,IAAP,CAAYH,gCAAOI,WAAnB,CAAb;;AAEA,IAAMC,sSAAN;AASA,IAAMC,8iBAAN;;AAiBAL,KAAKM,KAAL,CAAWF,UAAX,EACKG,IADL,CACU;AAAA,WAAOC,QAAQC,GAAR,CAAYC,GAAZ,CAAP;AAAA,CADV;AAEQV,KAAKM,KAAL,CAAWD,YAAX,EACCE,IADD,CACM;AAAA,WAAOC,QAAQC,GAAR,CAAYC,GAAZ,CAAP;AAAA,CADN,EAEHC,KAFG,CAEG;AAAA,WAAOH,QAAQC,GAAR,CAAYG,GAAZ,CAAP;AAAA,CAFH,EAGPD,KAHO,CAGD;AAAA,WAAOH,QAAQC,GAAR,CAAYG,GAAZ,CAAP;AAAA,CAHC","file":"createalldb.js","sourcesContent":["import config from '../config/databaseConfiguration';\nimport pg from 'pg';\nimport dotenv from 'dotenv';\n// psql -U dozic -h127.0.0.1 senditdb\n\ndotenv.config();\nconst pool = new pg.Pool(config.development);\n\nconst usersTable = `\nDROP TABLE IF EXISTS users CASCADE;\nCREATE TABLE IF NOT EXISTS users(\n    user_id SERIAL NOT NULL PRIMARY KEY,\n    username varchar(10) UNIQUE NOT NULL,\n    email varchar(100) UNIQUE NOT NULL,\n    password text NOT NULL,\n    createdat TIMESTAMP NOT NULL DEFAULT NOW()\n);`;\nconst parcelsTable = `\nDROP TABLE IF EXISTS parcels CASCADE;\nCREATE TABLE IF NOT EXISTS parcels(\n    parcel_id SERIAL NOT NULL PRIMARY KEY,\n    packagename varchar(10) NOT NULL,\n    pickuplocation varchar(25) NOT NULL,\n    dropofflocation varchar(25) NOT NULL,\n    presentlocation text NOT NULL,\n    weight SMALLINT NOT NULL,\n    price INTEGER NOT NULL,\n    status varchar(10) NOT NULL,\n    user_id INTEGER REFERENCES users(user_id) ON DELETE CASCADE,\n    createdat TIMESTAMP NOT NULL DEFAULT NOW(),\n    updatedat TIMESTAMP NOT NULL DEFAULT NOW()\n);`;\n\n\npool.query(usersTable)\n    .then(res => console.log(res));\n        pool.query(parcelsTable)\n        .then(res => console.log(res))\n    .catch(err => console.log(err))\n.catch(err => console.log(err));\n\n\n\n"]}