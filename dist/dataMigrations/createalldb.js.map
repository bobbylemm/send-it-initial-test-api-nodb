{"version":3,"sources":["../../dataMigrations/createalldb.js"],"names":["dotenv","config","pool","pg","Pool","development","usersTable","parcelsTable","query","then","console","log","res","catch","err"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;AAEAA,iBAAOC,MAAP;AACA,IAAMC,OAAO,IAAIC,aAAGC,IAAP,CAAYH,gCAAOI,WAAnB,CAAb;;AAEA,IAAMC,gQAAN;AAQA,IAAMC,qdAAN;;AAaAL,KAAKM,KAAL,CAAWF,UAAX,EAAuBG,IAAvB,CAA4B;AAAA,WAAOC,QAAQC,GAAR,CAAYC,GAAZ,CAAP;AAAA,CAA5B,EAAqDC,KAArD,CAA2D;AAAA,WAAOH,QAAQC,GAAR,CAAYG,GAAZ,CAAP;AAAA,CAA3D;AACAZ,KAAKM,KAAL,CAAWD,YAAX,EAAyBE,IAAzB,CAA8B;AAAA,WAAOC,QAAQC,GAAR,CAAYC,GAAZ,CAAP;AAAA,CAA9B,EAAuDC,KAAvD,CAA6D;AAAA,WAAOH,QAAQC,GAAR,CAAYG,GAAZ,CAAP;AAAA,CAA7D","file":"createalldb.js","sourcesContent":["import config from '../config/databaseConfiguration';\nimport pg from 'pg';\nimport dotenv from 'dotenv';\n\ndotenv.config();\nconst pool = new pg.Pool(config.development);\n\nconst usersTable = `\nCREATE TABLE IF NOT EXISTS users(\n    userId SERIAL NOT NULL PRIMARY KEY,\n    userName varchar(10) UNIQUE NOT NULL,\n    email varchar(100) UNIQUE NOT NULL,\n    password text NOT NULL,\n    createdat TIMESTAMP NOT NULL DEFAULT NOW()\n);`;\nconst parcelsTable = `\nCREATE TABLE IF NOT EXISTS parcels(\n    parcelId SERIAL NOT NULL PRIMARY KEY,\n    packageName varchar(10) NOT NULL,\n    destination text NOT NULL,\n    pickupLocation text NOT NULL,\n    price INTEGER NOT NULL,\n    userId INTEGER REFERENCES users(userId) ON DELETE CASCADE,\n    userName varchar(10) REFERENCES users(userName) ON DELETE CASCADE,\n    createdat TIMESTAMP NOT NULL DEFAULT NOW(),\n    updatedat TIMESTAMP NOT NULL DEFAULT NOW()\n);`;\n\npool.query(usersTable).then(res => console.log(res)).catch(err => console.log(err));\npool.query(parcelsTable).then(res => console.log(res)).catch(err => console.log(err));\n\n\n"]}